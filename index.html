<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz App</title>
    <!-- Tailwind CSS CDN for easy styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styling for the details/summary elements to make them look like cards */
        details[open] summary ~ * {
            animation: sweep .3s ease-in-out;
        }
        @keyframes sweep {
            0%    {opacity: 0; margin-left: -10px}
            100%  {opacity: 1; margin-left: 0px}
        }
    </style>
</head>
<body class="bg-blue-50 flex items-center justify-center min-h-screen p-4">

    <!-- Main container for the layout -->
    <div class="flex flex-col md:flex-row gap-6 max-w-6xl w-full">

        <!-- Left Sidebar for Chapter Buttons, now collapsible -->
        <details open class="w-full md:w-1/4 bg-white rounded-lg shadow-xl p-6 transition-all duration-300 open:bg-gray-100">
            <summary class="list-none text-xl font-bold text-gray-800 cursor-pointer flex items-center justify-between hover:text-blue-600 transition-colors duration-200">
                Chapters
                <!-- Chevron icon for open/close state -->
                <svg class="w-5 h-5 text-gray-500 transform transition-transform duration-300 open:rotate-180" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
            </summary>
            <div id="chapter-buttons-container" class="space-y-2 mt-4">
                <!-- Chapter buttons will be dynamically inserted here -->
            </div>
        </details>

        <!-- Right side: Main content area for the quiz -->
        <div class="flex-1 bg-white rounded-lg shadow-xl p-8 md:p-12 space-y-8">

            <!-- Header -->
            <h1 class="text-3xl font-bold text-center text-gray-800">Review Questions</h1>

            <!-- Quiz content will be dynamically inserted here -->
            <div id="quiz-container" class="space-y-6">
                <!-- This will be replaced by the dynamic content from JavaScript -->
            </div>

            <!-- Navigation buttons -->
            <div class="flex justify-between items-center mt-8 pt-6 border-t border-gray-200">
                <button id="prevBtn" class="bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition-all duration-300 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
                    &laquo; Previous
                </button>
                <button id="nextBtn" class="bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-300 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
                    Next &raquo;
                </button>
            </div>

        </div>
    </div>

    <script>
        // Store your quiz data in a JavaScript array of objects
        const quizData = [
            {
                chapter: "The Basics",
                question: "The original amortization term minus the number of payments that have been applied refers to the:",
                yourAnswer: "Remaining term",
                isCorrect: true,
                possibleAnswers: ["Remaining interest", "Remaining term", "Total amortization term", "Loan amount"],
                explanation: "The original amortization term minus the number of payments that have been applied refers to the remaining term.",
            },
            {
                chapter: "Legal Terms",
                question: "If Franklin, a real estate agent, intentionally speaks very highly and enthusiastically about a property he is trying to sell to a client in order to secure the deal, this type of behavior would be:",
                yourAnswer: "Puffing",
                isCorrect: true,
                possibleAnswers: ["Puffing", "Steering", "Illegal", "Misrepresentation"],
                explanation: "The term “puffing” can be used to describe “sales talk” that is used to secure a deal. As long as there is no misrepresentation, it is considered a legal practice.",
            },
            {
                chapter: "Mortgage Types",
                question: "Which of the following is a key characteristic of a fixed-rate mortgage?",
                yourAnswer: "The interest rate remains the same for the entire loan term.",
                isCorrect: true,
                possibleAnswers: ["The interest rate can change over time.", "The interest rate remains the same for the entire loan term.", "The monthly payment fluctuates based on market conditions.", "It is only available for commercial properties."],
                explanation: "A fixed-rate mortgage is a loan where the interest rate and monthly payment remain constant throughout the entire loan term.",
            },
            {
                chapter: "Property Ownership",
                question: "What is a deed?",
                yourAnswer: "A legal document that transfers ownership of a property.",
                isCorrect: true,
                possibleAnswers: ["A contract for a loan.", "A legal document that transfers ownership of a property.", "A property tax bill.", "A certificate of occupancy."],
                explanation: "A deed is a legal instrument used to transfer title or ownership of real property from one person to another.",
            },
            {
                chapter: "Appraisal Process",
                question: "What is the primary function of a real estate appraiser?",
                yourAnswer: "To estimate the market value of a property.",
                isCorrect: true,
                possibleAnswers: ["To sell a property for the highest price.", "To estimate the market value of a property.", "To manage property rentals.", "To provide legal advice on real estate transactions."],
                explanation: "A real estate appraiser's primary role is to provide an objective estimate of a property's market value, which is often required for lending purposes.",
            },
            {
                chapter: "Contracts and Clauses",
                question: "What is a mortgage contingency?",
                yourAnswer: "A clause in a purchase agreement that protects the buyer if they cannot secure financing.",
                isCorrect: true,
                possibleAnswers: ["A penalty for paying off a mortgage early.", "A clause in a purchase agreement that protects the buyer if they cannot secure financing.", "An additional fee added to the mortgage interest rate.", "A type of insurance for the property owner."],
                explanation: "A mortgage contingency is a clause in a sales contract that specifies the sale is dependent on the buyer getting a mortgage for the property. If the buyer can't get a mortgage, they can cancel the contract without penalty.",
            },
            {
                chapter: "Property Rights",
                question: "In real estate, what does the term 'easement' refer to?",
                yourAnswer: "A legal right to use another person's property for a specific purpose.",
                isCorrect: true,
                possibleAnswers: ["The total area of a property.", "A tax on the value of the property.", "A legal right to use another person's property for a specific purpose.", "A lien placed on a property for unpaid debts."],
                explanation: "An easement is a legal right to cross or use another person's land for a specific purpose. A common example is a utility company's right to access power lines on a private property.",
            }
        ];

        let currentQuestionIndex = 0;
        const quizContainer = document.getElementById('quiz-container');
        const chapterButtonsContainer = document.getElementById('chapter-buttons-container');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        
        // Function to render the current question and the chapter buttons
        function renderQuestion() {
            // Get the data for the current question
            const currentData = quizData[currentQuestionIndex];

            // Create the HTML for the question card
            quizContainer.innerHTML = `
                <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
                    <p class="text-lg font-medium text-gray-700">Question #${currentQuestionIndex + 1}: ${currentData.question}</p>
                    
                    <div class="mt-4 space-y-2 text-gray-600">
                        <!-- Display Your Answer -->
                        <div class="flex items-center space-x-2">
                            <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                            <span class="font-semibold text-green-700">Correct:</span>
                            <span class="text-gray-600">${currentData.yourAnswer}</span>
                        </div>
                        
                        <!-- Display the Correct Answer (if different) -->
                        ${currentData.yourAnswer !== currentData.correctAnswer ? `
                            <p class="font-semibold text-blue-700">Correct Answer:</p>
                            <ul class="list-disc pl-5 space-y-1 text-blue-600">
                                <li>${currentData.correctAnswer}</li>
                            </ul>
                        ` : ''}

                        <!-- Display All Possible Answers -->
                        ${currentData.possibleAnswers ? `
                            <p class="font-semibold">All Possible Answers:</p>
                            <ul class="list-disc pl-5 space-y-1 text-gray-500">
                                ${currentData.possibleAnswers.map(answer => `<li>${answer}</li>`).join('')}
                            </ul>
                        ` : ''}
                        
                        <!-- Display Explanation -->
                        <p class="font-semibold pt-2 border-t border-gray-200">Explanation:</p>
                        <p class="text-gray-600">${currentData.explanation}</p>
                    </div>
                </div>
            `;

            // Clear and re-render chapter buttons
            chapterButtonsContainer.innerHTML = '';
            quizData.forEach((data, index) => {
                const button = document.createElement('button');
                button.textContent = `Chapter ${index + 1}: ${data.chapter}`;
                button.dataset.index = index;
                // Add styling and highlight the active button
                button.className = `w-full text-left py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-wrap break-words ${
                    index === currentQuestionIndex 
                    ? 'bg-blue-600 text-white font-semibold shadow-md' 
                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`;
                chapterButtonsContainer.appendChild(button);
            });

            // Enable/disable navigation buttons based on the current index
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === quizData.length - 1;
        }

        // Event listener for the navigation buttons
        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        });
        
        // Event listener for the chapter buttons using event delegation
        chapterButtonsContainer.addEventListener('click', (event) => {
            const button = event.target.closest('button');
            if (button && button.dataset.index) {
                currentQuestionIndex = parseInt(button.dataset.index, 10);
                renderQuestion();
            }
        });

        // Render the first question and buttons when the page loads
        document.addEventListener('DOMContentLoaded', renderQuestion);
    </script>
</body>
</html>
